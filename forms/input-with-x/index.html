<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>layout2</title>
</head>

<body>

    <div class="container">

        <div class="heading">
            <a href="##">Register</a>
        </div>
        <form action="" id="regForm">
            <div class="tab">
                <h3>Name:</h3>
                <div class="user-name">
                    <input type="text" id="input1" onfocus="test(id)" required>
                    <label>FirstName</label>
                </div>
                <div class="user-name">
                    <input type="text" id="inpu2" onfocus="test(id)" required>
                    <label>LastName</label>
                </div>
            </div>

            <div class="tab">
                <h3>Contact Info:</h3>
                <div class="user-name">
                    <input type="text" id="inpu3" onfocus="test(id)" required>
                    <label>mail</label>
                </div>
                <div class="user-name">
                    <input type="text" id="inpu4" onfocus="test(id)" required>
                    <label>Phone</label>
                </div>
            </div>

            <div class="tab">
                <h3>Login Info:</h3>
                <div class="user-name">
                    <input type="text" id="inpu5" onfocus="test(id)" required>
                    <label>Username</label>
                </div>
                <div class="user-name">
                    <input type="password" id="inpu6" onfocus="test(id)" required>
                    <label>Password</label>
                </div>
            </div>
            <div class="buttons">
                <div><button type="submit" id="prevBtn" onclick="nextPrev(-1)">Previous</button></div>
                <div style="margin-left: 15px;"><button type="submit" id="nextBtn" onclick="nextPrev(1)">Next</button>
                </div>
            </div>
        </form>
    </div>
    <!-- var longName = $('#' + id).val(); -->
    <script>
        var form = document.getElementById('regForm')
        var label = document.querySelector('label')
        var input_div = document.querySelectorAll('.user-name');
        var inputField = document.querySelectorAll('input');
        console.log(inputField);

    //    for each function

            // inputField.forEach(i => {
            //     i.addEventListener('input', function () {
            //         if (this.value.length >= 6) {
            //             this.parentElement.classList.add('active')
            //             input_div.forEach(c => {
            //                 var span = document.createElement('span');
            //                 span.className = 'close'
            //                 var txt = document.createTextNode('\u00D7')
            //                 span.appendChild(txt)
            //                 c.appendChild(span)
            //                 span.onclick=function(){
            //                     // console.log(this.previousElementSibling.previousElementSibling);
            //                     this.parentElement.firstElementChild.value = ""
            //                     this.parentElement.classList.remove('active')
            //                 }
            //             })
            //         } else {
            //             this.parentElement.classList.remove('active')
            //         }
            //     })
            // })

    //  getting id from input when you focus.

            function test(data) {
                console.log(data,"input element");
                console.log(document.querySelector("#" + data),"log id");

                const inputs = document.querySelector("#" + data);
                inputs.addEventListener('input',function() {
                    if (this.value.length >= 6) {
                        this.parentElement.classList.add('active')
                        input_div.forEach(c => {
                            var span = document.createElement('span');
                            span.className = 'close'
                            var txt = document.createTextNode('\u00D7')
                            span.appendChild(txt)
                            c.appendChild(span)
                            span.onclick=function(){
                                // console.log(this.previousElementSibling.previousElementSibling);
                                this.parentElement.firstElementChild.value = ""
                                this.parentElement.classList.remove('active')
                            }
                        })
                    } else {
                        this.parentElement.classList.remove('active')
                    }
                })
            }
        

















        //  <div class="container">

        //     <div class="heading">
        //         <a href="##">Register</a>
        //     </div>
        //     <form action="" id="regForm">
        //         <div class="tab">
        //             <h3>Name:</h3>
        //             <div class="user-name">
        //                 <input type="text" id="userName1" required>
        //                 <label>FirstName</label>
        //             </div>
        //             <div class="user-name">
        //                 <input type="text" id="password1" required>
        //                 <label>LastName</label>
        //             </div>
        //         </div>

        //         <div class="tab">
        //             <h3>Contact Info:</h3>
        //             <div class="user-name">
        //                 <input type="text" id="userName2" required>
        //                 <label>mail</label>
        //             </div>
        //             <div class="user-name">
        //                 <input type="text" id="password2" required>
        //                 <label>Phone</label>
        //             </div>
        //         </div>

        //         <div class="tab">
        //             <h3>Login Info:</h3>
        //             <div class="user-name">
        //                 <input type="text" id="userName3" required>
        //                 <label>Username</label>
        //             </div>
        //             <div class="user-name">
        //                 <input type="password" id="password3" required>
        //                 <label>Password</label>
        //             </div>
        //         </div>
        //         <div class="buttons">
        //             <div><button type="submit" id="prevBtn" onclick="nextPrev(-1)">Previous</button></div>
        //             <div style="margin-left: 15px;"><button type="submit" id="nextBtn" onclick="nextPrev(1)">Next</button>
        //             </div>
        //         </div>
        //     </form>
        // </div>

        // var form = document.getElementById('regForm')
        // var label = document.querySelector('label')
        // var input_div = document.querySelectorAll('.user-name');

        // // ========== switch =======
        // input_div.forEach(c => {
        //     var span = document.createElement('span');
        //     span.className = 'close'
        //     var txt = document.createTextNode('\u00D7')
        //     span.appendChild(txt)
        //     c.appendChild(span)
        // })


        // form.addEventListener('input', function (e) {
        //     switch (e.target.id) {
        //         case "userName1":
        //             let input1 = this.firstElementChild.firstElementChild.nextElementSibling.firstElementChild
        //             if (input1.value.length >= 6) {
        //                 this.firstElementChild.firstElementChild.nextElementSibling.classList.add("active");
        //             } else {
        //                 this.firstElementChild.firstElementChild.nextElementSibling.classList.remove("active")
        //             }
        //             break;
        //     }
        // })

        // ====== upto here switch ========












        // form.addEventListener('input',function(e){
        //     switch (e.target.id){
        //         case "userName1": 
        //             let input1 = this.firstElementChild.firstElementChild.nextElementSibling.firstElementChild
        //             if(input1.value.length >=6) {
        //                 this.firstElementChild.firstElementChild.nextElementSibling.appendChild(span);
        //             }else{
        //                 this.firstElementChild.firstElementChild.nextElementSibling.removeChild(span);
        //             }
        //         break;
        //     }
        // })






        // function test(data) {
        //     // console.log('data:::', data)
        //     for (var i = 0; i < inputField.length; i++) {
        //         inputField[i].addEventListener('input', function () {
        //             if (this.value.length >= 6) {
        //                 this.parentElement.appendChild(span)
        //             } else if (this.value.length <= 6) {

        //             }

        //         })
        //         span.onclick = function () {
        //             console.log(':::::', this.style.display = "none")
        //             // alert('hi')
        //             this.value = ''
        //             this.style.display = "none"
        //         }
        //     }
        // }

        // var currentTab = 0;
        // showTab(currentTab);

        // function showTab(n) {
        //     var x = document.getElementsByClassName('tab')
        //     x[n].style.display = "flex"

        //     if (n == 0) {
        //         document.getElementById("prevBtn").style.display = "none"
        //     } else {
        //         document.getElementById("prevBtn").style.display = "inline-block"
        //     }

        //     // if(n == (x.length - 1)){
        //     //     document.getElementById("prevBtn").style.display = "Submit"
        //     // }else{
        //     //     document.getElementById("prevBtn").style.display = "Next"
        //     // }
        // }

        // function nextPrev(n){
        //     var x = document.getElementsByClassName("tab");

        //     x[currentTab].style.display = "none"
        //     currentTab = currentTab + n;
        // }























        // function validateForm(){
        //     var x = document.getElementsByName('tab');
        //     var y = x[currentTab].document.querySelectorAll('#input')

        //    for(var i=0;i<y.length;i++){
        //        if(y[i].length == ''){
        //            y[i].classList.add('invalid')
        //        }
        //    }


        // }









































        // input_div.forEach(div => {
        //     var span = document.createElement('span');
        //     span.className = 'close'
        //     span.setAttribute("id", "close")
        //     var txt = document.createTextNode('\u00D7')
        //     span.appendChild(txt)
        //     div.appendChild(span)
        // })

        // function test(data) {
        //     // console.log('data:::', data)
        //     for (let i = 0; i < inputField.length; i++) {
        //         inputField[i].addEventListener('input', function () {
        //             if (this.value.length >= 6) {
        //                 // var span = document.createElement('span');
        //                 // span.className = 'close'
        //                 // let txt = document.createTextNode('\u00D7')
        //                 // span.appendChild(txt)
        //                 // this.parentElement.appendChild(span)
        //                 for (let j = 0; j < close.length; j++) {
        //                     close[j].style.display = "block"
        //                 }

        //             } else if (this.value.length <= 6) {
        //                 for (let j = 0; j < close.length; j++) {
        //                     close[j].style.display = "none"
        //                 }
        //             }
        //             document.querySelectorAll('.close').forEach(x => {
        //                 x.addEventListener('click', function () {
        //                     inputField[i].value = ''
        //                     for (let j = 0; j < close.length; j++) {
        //                         close[j].style.display = "none"
        //                     }
        //                 })
        //             })
        //         })
        //     }
        // }


        // for (let i = 0; i < inputField.length; i++) {
        //     inputField[i].addEventListener('input', function () {
        //         if (this.value.length === 6) {
        //             let span = document.createElement('span');
        //             span.className = 'close'
        //             let txt = document.createTextNode('\u00D7')
        //             span.appendChild(txt)
        //             // input_div.forEach(x => x.appendChild(span))
        //             this.parentElement.appendChild(span)
        //         } else if (this.value.length <= 6) {
        //             document.querySelector('.close').display = "none"
        //         }
        //         // var close = document.querySelector('.close').onclick=function(){
        //         //   this.value = " "
        //         // }
        //     })
        // }

        // for(let i=0;i<inputField.length;i++){
        //     inputField[i].addEventListener('input',function(){
        //         if(this.value.length >= 6){
        //             close.style.display="block"
        //         }else if(this.value.length <=6){
        //             close.style.display="none"
        //         }
        //         // var close = document.querySelector('.close').onclick=function(){
        //         //   this.value = " "
        //         // }
        //     })
        // }

        // for(let i=0;i<inputField.length;i++){
        //     inputField[i].addEventListener('input',function(){
        //         if(this.value.length >= 6  && this.focus){
        //             close.forEach(r => r.style.display="block")
        //         }else if(this.value.length <=6){
        //             close.forEach(r => r.style.display="none")
        //         }
        //         close.forEach(clr =>{
        //             clr.addEventListener('click',function(){
        //                 inputField[i].value =' '
        //                 close.forEach(r => r.style.display="none")
        //             })
        //         })
        //     })
        // }











        var currentTab = 0
        showTab(currentTab);

        function showTab(n) {
            // This function will display the specified tab of the form ...

            var x = document.getElementsByClassName('tab')
            x[n].style.display = "flex"

            // ... and fix the Previous/Next buttons:

            if (n == 0) {
                document.getElementById("prevBtn").style.display = "none"
            } else {
                document.getElementById("prevBtn").style.display = "inline"
            }

            if (n == (x.length - 1)) {
                document.getElementById("nextBtn").innerHTML = "Submit"
            } else {
                document.getElementById("nextBtn").innerHTML = "Next"
            }
        }

        function nextPrev(n) {
            var x = document.getElementsByClassName("tab")

            // if(n == 1 && !validateForm()) return false

            x[currentTab].style.display = "none"
            currentTab = currentTab + n
            if (currentTab >= x.length) {
                document.getElementById("regForm").submit()
                return false
            }
            showTab(currentTab)
        }


    </script>
</body>

</html>